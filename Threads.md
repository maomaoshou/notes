# Thread

## 基本概念

* 同步：不能开启新线程
* 异步：可以开启新线程
* 串行：任务必须按顺序执行
* 并行：多个任务可以同时进行
* `dispath_sync`:立马在当前线程执行任务，执行完才能进行下一项
* `dispath_async`:不要求立马在当前线程执行任务，可能会开启新线程也可能不会
* 同步串行队列：不会创建新线程，任务按顺序执行
* 同步并行队列：不会创建新线程，任务按顺序执行
* 异步串行队列：根据需要可能会创建新线程，任务按顺序执行
* 异步并行队列：根据需要创建新线程，任务无序执行

## 基础知识

* 不同串行队列的任务同步添加到同一个线程，不会造成死锁

* 主线程（主队列对应主线程）上同步执行主队列方法死锁的原因：主线程要先执行主线程上的代码，然后才会执行放在主队列的任务。因此
```
dispath_sync(dispath_get_main_queue(), ^ {
    NSLog("111")；
})
```
这段代码在执行的时候，主线程要等主线程的代码执行完才会执行添加到主队列的task,而dispath_sync要等task执行完才会返回，task要等dispath_sync执行完才会执行，相互等待，造成死锁

## Run Loop

* 每个线程对应一个runloop对象